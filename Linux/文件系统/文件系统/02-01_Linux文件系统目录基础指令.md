# Linux文件系统目录基础指令

## 目录指令

| 命令  |         全写         |          作用          |                        补充                        |
| :---: | :------------------: | :--------------------: | :------------------------------------------------: |
|  pwd  | print work directory |      列出当前位置      |                                                    |
|  ls   |      list files      |   列出当前目录的内容   |                                                    |
| file  |                      |      查看文件类型      |                  file 路径/文件名                  |
|  cd   |   change directory   |        改变路径        | .代表当前目录	..代表上一级目录	~为用户主目录 |
| mkdir |    make directory    |        创建目录        |                  可一次性创建多个                  |
| rmdir |   remove directory   |    删除一个空的目录    |                                                    |
|  mv   |      move file       | 移动或重命名目录或文件 |                                                    |
|  cp   |      copy file       |     复制目录或文件     |                                                    |
|  rm   |        remove        |     删除目录或文件     |                                                    |
|  ln   |                      |  创建硬链接和符号链接  |                                                    |
| find  |                      |        查找文件        |                                                    |

## ls 列出目录下文件

| 命令&参数 |           全写            | 说明                                                         |
| :-------: | :-----------------------: | :----------------------------------------------------------- |
|   ls -a   |         all 全部          | 输出全部信息，包含以 . 开头的，这些往往是隐藏信息。          |
|   ls -A   |   almost 几乎 all 全部    | 和 -a 类似，                                                 |
|   ls -d   |      directory 目录       | 一般来说指定目录往往是指定该目录下包含的子目录和文件，该参数可以指向目录本身。配合 -l 可以显示该目录本身的详细信息。 |
|   ls -F   |       classify 分类       | 列出的内容加上分类符号。目录后面加 / 。                      |
|   ls -h   | human 人的readable 易读的 | 以人易读的方式输出信息。不再以字节B为单位输出大小。          |
|   ls -l   |          long 长          | 输出包含 详细信息，较长。                                    |
|   ls -r   |      reverse 反向的       | 按字母顺序降序输出。ls默认升序输出。                         |
|   ls -s   |                           | 按文件的大小输出。                                           |
|   ls -t   |         time 时间         | 按时间进行排列，由近到远。                                   |

使用 ` ls -l ` 命令后出现的信息包括：

```c
drwxr-xr-x 2 he he 4096 10月14日 11:51 公共
drwxr-xr-x 2 he he 4096 10月14日 11:51 模板
drwxr-xr-x 3 he he 4096 10月14日 12:56 视频
drwxr-xr-x 3 he he 4096 10月14日 12:56 图片
drwxr-xr-x 2 he he 4096 10月14日 11:51 文档
drwxr-xr-x 2 he he 4096 10月14日 11:51 下载
drwxr-xr-x 2 he he 4096 10月14日 11:51 音乐
drwxr-xr-x 2 he he 4096 10月14日 11:51 桌面
```

其中：

- ```
	文件夹访问权限 硬链接数量 文件属主 文件属组 大小 最后一次被修改日期 最后一次被修改时间 名称
	drwxr-xr-x   2        he      he     4096 10月14日         11:51          公共
- drwxr-xr-x：文件夹访问权限。
- 2：文件硬链接数量。
- he：文件属主。
- he：文件属组。
- 4096：文件大小。
- 10月14日：文件最后一次被修改日期。
- 11:51：文件最后一次被修改时间。
- 公共：文件名称。

## cd 改变目录

.代表当前目录	..代表上一级目录	~为用户主目录

## mkdir 创建目录

创建目录，参数有

| 命令     | 参数全写 | 作用                                     | 案例             |
| -------- | -------- | ---------------------------------------- | ---------------- |
| mkdir -m | mode     | 创建目录的同时指定权限                   | mkdir -m 700     |
| mkdir -p | parents  | 创建目录的同时若上级目录未创建则一起创建 | mkdir -p ./a/b/c |
|          |          |                                          |                  |



## rmdir 删除目录

| 命令     | 参数全写 | 作用                           | 案例 |
| -------- | -------- | ------------------------------ | ---- |
| rmdir -p | parents  | 若删除后上级目录为空则一起删除 |      |
| rmdir -v | verboes  | 显示详细的删除过程             |      |
| rmdir    |          |                                |      |



## mv 移动文件

| 命令  | 参数全写 | 作用         |
| ----- | -------- | ------------ |
| mv -b | backup   | 覆盖时先备份 |
|       |          |              |
|       |          |              |



## cp 复制

```shell
cp file /user/men/tmp/file1
# 将当前目录下的file文件复制到/user/men/tmp/目录下并改名file1
```



| 命令  |                             作用                             |
| :---: | :----------------------------------------------------------: |
| cp -a | 复制文件或目录的所有属性，若不指定，则根据当前用户的属性确定复制后的属性。 |
| cp -i |           若无此参数，再覆盖原先文件前不发出警告。           |
| cp -r |          递归复制目录及内容，复制目录时需要此参数。          |
| cp -u |             只复制目标目录不存在或已更新的文件。             |
| cp -v |                     复制时展示相关信息。                     |



## rm 删除

删除文件和目录

| 命令  | 作用                       |
| ----- | -------------------------- |
| rm -d | 硬连接数据清零             |
| rm -f | 强制删除                   |
| rm -i | 交互式删除，删除前询问。   |
| rm -r | 递归删除，包含子文件和目录 |
| rm -v | 显示详细过程               |



## 连接 ln

ln（linkname）指令可以创建连接。

### 硬连接

```shell
ln <要连接的文件或目录的路径及名称> <连接位置的路径及名称>
```

硬连接相当于连接对象除名字外都相同，当然也包括大小，当其中一个被操作改变了后另外的也会同步改变。

### 软连接

```shell
ln -s <要连接的文件或目录的路径及名称> <连接位置的路径及名称>
```

相当于快捷方式。

## 搜索 find

最简基础格式为：

```shell
find 含正则表达式的需搜索内容
find Linux*
# 输出当前目录下所有以Linux开头的文件
```

| 命令                         | 作用                                         | 补充说明 |
| ---------------------------- | -------------------------------------------- | -------- |
| find 目录 -name -"搜索目标"  | 在指定目录里根据名字搜索目标                 |          |
| find 目录 -iname -"搜索目标" | 在指定目录里根据名字搜索目标，且忽略大小写。 |          |

包含否定参数 `!` 可以排除指定目标，仅显示指定目标之外的。用在选项前面。例：find 目录 ! 选项 参数

| 命令                    | 作用         | 补充说明                                                     |
| ----------------------- | ------------ | ------------------------------------------------------------ |
| find 目录 -type f       | 根据类型搜索 | 引用1                                                        |
| find 目录 -时间戳 -参数 | 按时间戳搜索 | 引用2                                                        |
| find 目录 -size 参数    | 按大小搜索   | find 目录 -size +10k 搜索大于10k的文件<br />find 目录 -size -10k 搜索大于10k的文件<br />find 目录 -size 10k 搜索等于10k的文件 |
| find 目录 -user 用户名  | 按用户搜索   |                                                              |
| find 目录 -perm 参数    | 按权限搜索   | find 目录 -perm 777 搜索权限为777的文件                      |
|                         |              |                                                              |

**引用1**

>   -   f 普通文件
>   -   l 符号连接
>   -   d 目录
>   -   c 字符设备
>   -   b 块设备

**引用2**

>   所以文件都包含三个时间戳，访问时间atime，修改时间mtime，变化时间ctime。
>
>   默认时间单位为天，可以将time改为min将单位换为分钟。
>
>   案例：
>
>   find 目录 -atime -1 搜索一天内被改变过的文件。



