# FHS（Filesystem Hierarchy Standard）（文件系统层次结构标准）

## FHS基础介绍

FHS 是一套规定 Linux 操作系统**应该在哪些目录存放哪些文件**的规范和标准。它的主要目的是：

*   **标准化**：让用户、管理员和开发者能够预测文件、命令和配置的存放位置，无论他们使用哪个 Linux 发行版（如 Ubuntu, Fedora, Debian, CentOS 等）。
*   **一致性**：使软件能够以一致的方式在不同的系统上运行和查找资源。
*   **可维护性**：让系统管理员更容易管理和维护系统。





## 目录类型划分

FHS 通过两个维度来定义目录的特性：

1.  **可分享 vs. 不可分享**
    *   **可分享**：可以被多个主机共享的目录（如 `/home` 用户目录、`/usr` 应用程序目录），通常可以放在网络文件系统（NFS）上。
    *   **不可分享**：特定于当前主机的文件，不应被共享（如 `/etc` 本机配置、`/boot` 启动文件）。

2.  **静态 vs. 可变**
    *   **静态**：内容不改变，除非由系统管理员修改（如二进制程序 `/bin`, `/usr/bin`，库文件 `/lib`）。
    *   **可变**：内容可以自由更改（如用户文档 `/home`，日志文件 `/var/log`）。



## 最重要的一级目录详解

以下是 Linux 根目录（`/`）下最常见和重要的目录及其用途：

| 目录                     | 全称与含义                     | 存放内容举例                                                 | 类型               |
| :----------------------- | :----------------------------- | :----------------------------------------------------------- | :----------------- |
| **`/bin`**               | **Binary** (二进制)            | **所有用户都可使用的基础命令**，如 `ls`, `cp`, `cat`, `bash`。这些是系统启动和修复所必需的命令。 | 静态, 可分享       |
| **`/boot`**              | **Boot** (启动)                | **系统启动所需的文件**，如内核镜像 (`vmlinuz`)、初始内存磁盘 (`initrd.img`)、引导加载程序 (`grub`)。 | 静态, **不可分享** |
| **`/dev`**               | **Device** (设备)              | **设备文件**。在 Linux 中，一切皆文件，硬件设备也以文件形式存在，如 `/dev/sda`（硬盘）、`/dev/tty`（终端）。 | 动态, **不可分享** |
| **`/etc`**               | **Etcetera** (等等)            | **系统的全局配置文件**。包含所有程序和服务的配置。           | 静态, **不可分享** |
|                          |                                | 例如：`/etc/passwd`（用户账户）、`/etc/hosts`（主机名映射）、`/etc/nginx/`（Nginx配置）。 |                    |
| **`/home`**              | **Home** (家)                  | **普通用户的个人主目录**。每个用户都有一个以其用户名命名的子目录（如 `/home/hing`），用于存放个人文件、配置、桌面、文档等。 | 动态, 可分享       |
| **`/lib`**, **`/lib64`** | **Library** (库)               | **系统和程序所需的共享库文件**（类似于 Windows 的 DLL 文件）。`/bin` 和 `/sbin` 中的二进制程序会依赖这些库。 | 静态, 可分享       |
| **`/media`**             | **Media** (媒体)               | **可移动设备的自动挂载点**。系统会自动将 U 盘、光盘、SD 卡等挂载到此目录下的子目录。 | 动态, 可分享       |
| **`/mnt`**               | **Mount** (挂载)               | **临时的手动文件系统挂载点**。管理员通常临时手动挂载一些网络共享或磁盘分区到这里。 | 动态, 可分享       |
| **`/opt`**               | **Optional** (可选)            | **第三方大型应用程序的安装目录**。通常是一些不遵循标准路径的独立商业软件，如 MATLAB, Google Earth。 | 静态, 可分享       |
| **`/proc`**              | **Process** (进程)             | **虚拟文件系统**。它不占用磁盘空间，而是内核和进程信息的映射，可以查看和修改系统参数（如 `cat /proc/cpuinfo`）。 | 动态, **不可分享** |
| **`/root`**              | **Root** (根用户)              | **系统管理员（root 用户）的家目录**。**注意：** 它不是根目录 `/`，而是 root 用户的个人目录。 | 动态, **不可分享** |
| **`/run`**               | **Run** (运行)                 | **自上次启动以来的运行时数据**。存放的是自系统启动以来，正在运行的进程的运行时数据，如 PID 文件、套接字文件。是 `/var/run` 的临时替代。 | 动态, **不可分享** |
| **`/sbin`**              | **System Binary** (系统二进制) | **供系统管理员使用的系统管理命令**，如 `fdisk`（磁盘分区）、`ifconfig`（网络配置）、`reboot`（重启）。通常需要 root 权限执行。 | 静态, 可分享       |
| **`/srv`**               | **Service** (服务)             | **服务数据目录**。存放由本系统提供的服务所产生的数据，如 Web 服务器的网站文件 (`/srv/www`)、FTP 服务器的资源。 | 动态, 可分享       |
| **`/tmp`**               | **Temporary** (临时)           | **临时文件目录**。所有用户都可以读写。**注意：** 该目录下的文件可能会在重启后被清除。 | 动态, 可分享       |
| **`/usr`**               | **Unix System Resources**      | **第二层级**，包含**绝大部分的用户应用程序和文件**。它不是 `user` 的缩写！它可以被只读挂载。 | 静态, 可分享       |
|                          |                                | 其子目录结构重复了根目录，如：                               |                    |
|                          |                                | - `/usr/bin`：非必需的用户命令                               |                    |
|                          |                                | - `/usr/lib`：应用程序的共享库                               |                    |
|                          |                                | - `/usr/local`：**本地编译安装的软件**（优先级最高）         |                    |
|                          |                                | - `/usr/share`：架构无关的数据（如文档、图标、字体）         |                    |
| **`/var`**               | **Variable** (可变)            | **经常变化的文件**，如日志、缓存、假脱机文件（打印队列）和数据库文件。 | 动态, **可分享\*** |
|                          |                                | 其子目录包括：                                               |                    |
|                          |                                | - `/var/log`：**系统日志和应用程序日志**                     |                    |
|                          |                                | - `/var/cache`：应用程序缓存数据                             |                    |
|                          |                                | - `/var/spool`：等待处理的任务队列（如邮件、打印任务）       |                    |
|                          |                                | - `/var/www`：Web 根目录（常见，但 FHS 更推荐 `/srv`）       |                    |



## 实践意义与总结

*   **对用户**：你知道你的个人文件在 `/home/你的用户名` 下，系统配置文件不要去乱动 `/etc`。
*   **对开发者**：你编译安装的软件应该默认放到 `/usr/local` 下，这样不会干扰系统自带的包管理软件（如 `apt`）管理的文件。
*   **对管理员**：查看日志要去 `/var/log`，排查硬件问题要看 `/proc` 和 `/dev`，安装第三方商业软件可能在 `/opt`。

**总而言之，FHS 是 Linux 生态系统的基石之一，它通过一种有序、合理的方式组织文件，使得 Linux 系统既灵活又易于管理。** 虽然不同的发行版可能会有一些细微的差异（例如，现在很多发行版将 `/bin`、`/sbin`、`/lib` 符号链接到 `/usr` 下的对应目录，称为“/usr merge”），但它们都遵循 FHS 的核心精神。
