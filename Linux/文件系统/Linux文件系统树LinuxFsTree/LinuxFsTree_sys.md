# sys

## tree输出

```shell
.
├── block       # 块设备视图
├── bus         # 总线类型视图
├── class       # 功能类别视图
├── dev         # 设备号索引
├── devices     # 物理层次结构
├── firmware    # 固件接口
├── fs          # 文件系统控制
├── hypervisor  # 虚拟化支持
├── kernel      # 内核状态与配置
├── module      # 内核模块管理
└── power       # 系统电源管理
```



## 简要介绍

| 目录              | 核心作用           | 详细解释                                                     |
| ----------------- | ------------------ | ------------------------------------------------------------ |
| **`block/`**      | **块设备视图**     | 此处包含系统识别出的所有**块设备**（如硬盘 `/dev/sda`、SSD `/dev/nvme0n1`、磁盘分区、回环设备）。这里的条目大多是**符号链接**，指向 `devices/` 目录下对应的实际设备对象。**注意**：在现代内核中，许多块设备（如 SSD 分区）可能不再直接出现在这里，而是需要通过 `devices/` 查看。 |
| **`bus/`**        | **总线类型视图**   | 这是最重要的目录之一。它按照**设备连接的总线类型**来组织设备。常见子目录包括：  • `pci/` : PCI 和 PCIe 设备（如显卡、网卡）  • `usb/` : USB 设备（如键盘、U盘）  • `platform/` : 直接连接到系统总线的设备  • `i2c/`, `spi/` : 嵌入式设备常用总线  每个总线目录下通常有 `devices/`（挂载的设备）和 `drivers/`（注册的驱动）子目录。 |
| **`class/`**      | **功能类别视图**   | 这是对用户和系统管理员**最友好**的目录。它按照设备的**功能**而不是连接方式分类。常见子目录包括：  • `net/` : **网络接口**（如 `eth0`, `wlan0`），可查看 MAC 地址、状态等。  • `graphics/` : 显卡设备  • `input/` : **输入设备**（如 `mouse0`, `event0` 对应键鼠）  • `backlight/` : 屏幕背光控制  • `tty/` : 终端设备  这里的条目也都是指向 `devices/` 的符号链接。 |
| **`dev/`**        | **设备号索引**     | 包含 `char/`（字符设备）和 `block/`（块设备）两个子目录。里面是以 `<主设备号>:<次设备号>` 命名的符号链接，指向 `class/` 目录中对应的设备。主要由 `udev` 等工具使用，用于根据设备号快速查找设备信息。 |
| **`devices/`**    | **物理层次结构**   | 这是 **sysfs 的核心和基石**。它反映了设备在系统中的**真实物理拓扑结构**，展示了设备如何通过总线、桥接器等逐级连接。其他目录（`block/`, `bus/`, `class/`）中的内容大多是指向此处设备的符号链接。这是最底层、最详细的视图。 |
| **`firmware/`**   | **固件接口**       | 包含与平台固件（如 **ACPI**、DMI）交互的接口。通过这些文件可以查询和配置由 BIOS/UEFI 提供的硬件信息和电源管理功能。 |
| **`fs/`**         | **文件系统控制**   | 包含各种已注册文件系统的信息和控制参数。例如：  • `/sys/fs/ext4/` : 包含所有 ext4 文件系统的调整参数（如日志模式）。  • `/sys/fs/cgroup/` : 是 **cgroup 文件系统**的挂载点，用于资源控制。 |
| **`hypervisor/`** | **虚拟化支持**     | 如果系统运行在虚拟化环境中（如 Xen、KVM），此目录会包含与**hypervisor（虚拟机监视器）** 交互的接口和信息。在物理机上可能不存在或为空。 |
| **`kernel/`**     | **内核状态与配置** | 包含各种内核级的配置选项、状态信息和调试接口。例如安全配置、热插拔配置、软件看门狗状态等。 |
| **`module/`**     | **内核模块管理**   | 每个已加载的**内核模块**都有一个子目录，里面包含了模块的信息、状态、参数以及模块间的依赖关系（`holders/`）。你可以在这里动态查看和修改模块参数。 |
| **`power/`**      | **系统电源管理**   | 包含与系统全局电源状态相关的控制和信息文件。例如 `state` 文件可以用于读取当前电源状态或写入命令以进入休眠（`mem`）等状态。 |



## 基础





## 查询CPU信息



```shell
/sys/devices/system/cpu/cpu0
```











