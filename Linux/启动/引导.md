# 引导

## 删除引导

需要使用`efibootmgr`命令获取系统引导。

使用

```shell
sudo efibootmgr -b ? -B
```

删除系统引导，其中？是系统引导的编号

操作顺序依次是：

```shell
su root
# 获取管理员权限
# Ubuntu使用 sudo su

cd /boot/efi
# 进入引导目录

rm -r deepin/ ubuntu/
# 删掉引导以deepin和ubuntu为例
```







## 生成引导

### 备份当前配置

在进行任何修改之前，请务必备份当前的GRUB配置文件。这是一个重要的安全措施。
```bash
sudo cp /boot/grub/grub.cfg /boot/grub/grub.cfg.backup
```

### 让Ubuntu重新生成引导配置

使用Ubuntu的GRUB工具自动扫描系统上存在的操作系统，并生成一个新的引导菜单。

这个命令会**自动识别并移除已经不存在的Arch Linux条目**，同时添加可用的系统（如Windows）。

```bash
sudo update-grub
```
命令执行后，终端会输出它发现的系统。应该能看到类似于 `Found Ubuntu ...` 和 `Found Windows Boot Manager ...` 的信息。

### 将GRUB重新安装到EFI系统分区

这是最关键的一步，目的是用Ubuntu的GRUB引导程序覆盖掉之前Arch安装的引导程序。
1.  **首先，确定您的系统磁盘**。通常是 `/dev/sda` 或 `/dev/nvme0n1`。您可以使用 `lsblk` 命令查看磁盘分区情况。
2.  **执行安装命令**（请将 `/dev/sda` 替换为您的实际磁盘设备，**不要带分区编号**）：
    ```bash
    sudo grub-install /dev/sda

如果成功，会看到 `Installation finished. No error reported.` 的提示。这个操作会修复EFI系统分区中的引导文件。

### 可选清理

完成以上步骤后，引导应该已经恢复正常。

可以使用efibootmgr清除额外引导。



