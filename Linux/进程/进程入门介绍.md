# Linux进程入门介绍

## 基础介绍

#### 进程状态（STAT）详解

这是理解进程在做什么的关键。STAT 由一个或多个字符组成。

*   **R** (Running)：正在运行或在运行队列中等待。
*   **S** (Interruptible Sleep)：可中断的睡眠，正在等待某个事件完成（如用户输入、网络数据）。
*   **D** (Uninterruptible Sleep)：不可中断的睡眠，通常是在等待 I/O 操作（如磁盘读写），不能被信号唤醒。
*   **T** (Stopped)：进程已停止（通常由信号 `SIGSTOP` 或 `Ctrl+Z` 触发）。
*   **Z** (Zombie)：僵尸进程。进程已终止，但其父进程尚未回收它。
*   **X** (Dead)：已死亡（几乎从不会看到）。
*   **<**：高优先级。
*   **N**：低优先级。
*   **s**：会话领导者（session leader），它下面有子进程。
*   **l**：是多线程的。
*   **L**：已将页面锁定在内存中。
*   **+**：位于前台进程组。

## ps指令

可以通过`ps`指令查看进程。

`ps` 命令有一个独特之处：它支持三种不同风格的参数，这常常让初学者感到困惑。

1.  **Unix 风格**：参数前用单短横线 `-`（如 `-e`）。
2.  **BSD 风格**：参数前不用短横线（如 `aux`）。
3.  **GNU 风格**：参数前用双短横线 `--`（如 `--help`）。

**混合使用这些风格是允许的，但有时会有冲突。** 最常用的方式是 **BSD 风格**（如 `ps aux`）。

参数：

```shell
ps aux
# a：显示所有用户的进程。
# u：以面向用户的格式显示（显示详细信息如用户、CPU、内存等）。
# x：显示没有控制终端的进程（通常是系统后台进程、守护进程）。
```

输出：

```shell
PID    TTY          STAT     TIME         COMMAND
进程ID  进程所在终端   进程状态  占用CPU总时长  命令名
```

### 查看进程树结构

```bash
ps axjf
# 或
ps -ef --forest
```

### 实用命令示例

1.  **查找最耗 CPU 的进程**：
    ```bash
    ps aux --sort=-%cpu | head -10
    ```

2.  **查找最耗内存的进程**：
    
    ```bash
    ps aux --sort=-%mem | head -10
    ```
    
3.  **查看特定进程的详细信息（如 nginx）**：
    ```bash
    ps -ef | grep nginx
    # 或者更精确的
    ps -C nginx -o pid,user,%cpu,%mem,cmd
    ```

4.  **查看一个进程的父进程和子进程关系**：
    
    ```bash
    ps -o pid,ppid,cmd --forest -C firefox
    ```
    

### 总结

| 命令                            | 作用                                   |
| :------------------------------ | :------------------------------------- |
| `ps aux`                        | **万能命令**，查看所有进程的详细信息。 |
| `ps -ef`                        | 另一种风格查看所有进程。               |
| `ps -u [用户名]`                | 查看特定用户的进程。                   |
| `ps -C [进程名]`                | 根据名称查找进程。                     |
| `ps --forest`                   | **树形显示**进程关系。                 |
| `ps -o [列名] --sort=[+/-列名]` | **自定义输出**，用于精准查找和排序。   |

`ps` 命令输出的信息是**执行命令那一刻**的系统快照。如果需要动态实时监控进程（如 `top` 或 `htop` 那样），应使用 `top` 命令。但 `ps` 在精确查找、编写脚本和获取进程详细快照方面无可替代。





## kill指令

kill指令可以杀死一个进程，kill指令参数为PID。

```





```



