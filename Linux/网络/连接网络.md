# 连接网络

## 连接网络(针对无图形化界面)

在Live环境中，需要连接互联网以下载软件包。

有线网络：插上网线，通常会自动通过DHCP获取IP地址。如果没有，可以尝试运行 `dhcpcd` 命令。

无线网络：使用 `iwctl` 命令连接：

```shell
iwctl
```

在 iwd 提示符下，依次执行：

```shell
device list                           # 列出无线设备
station <设备名> scan                  # 扫描网络
station <设备名> get-networks          # 列出扫描到的网络
station <设备名> connect <Wi-Fi名称>    # 连接网络，输入密码
exit                                  # 退出iwctl
```



测试网络连接：使用 ping 命令测试网络是否通畅：

```shell
ping archlinux.org -c 5
```





## 网络接口未分配IP地址

如果 `ip addr` 显示类似这样：

```
2: ens33: <BROADCAST,MULTICAST> mtu 1500 qdisc pfifo_fast state DOWN group default qlen 1000
    link/ether 00:0c:29:xx:xx:xx brd ff:ff:ff:ff:ff:ff
```

（注意 `state DOWN` 表示接口关闭）

**解决方法**：

```shell
# 1. 启用wlan0接口
ip link set wlan0 up

# 2. 扫描可用Wi-Fi网络
iwlist wlan0 scan | grep ESSID

# 3. 使用wpa_supplicant连接Wi-Fi
cat > /etc/wpa_supplicant.conf << EOF
network={
    ssid="你的WiFi名称"
    psk="你的WiFi密码"
}
EOF

# 4. 连接Wi-Fi
wpa_supplicant -B -i wlan0 -c /etc/wpa_supplicant.conf

# 5. 获取IP地址
dhclient wlan0
```



```
cat > /etc/wpa_supplicant.conf << EOF
network={
    ssid="FAST_0DF2"
    psk="HE12345678"
}
EOF
```

