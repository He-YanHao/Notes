# 环境变量

```shell
hing@he-books ~/W/D/D/Notes> env
PAPERSIZE=letter
SYSTEMD_EXEC_PID=2195
SSH_AUTH_SOCK=/run/user/1000/keyring/ssh
SESSION_MANAGER=local/he-books:@/tmp/.ICE-unix/2195,unix/he-books:/tmp/.ICE-unix/2195
LANGUAGE=zh_CN:en
LANG=zh_CN.UTF-8
LC_IDENTIFICATION=en_US.UTF-8
XDG_SESSION_CLASS=user
XDG_CURRENT_DESKTOP=ubuntu:GNOME
USERNAME=hing
GPG_AGENT_INFO=/run/user/1000/gnupg/S.gpg-agent:0:1
PWD=/home/hing/Windows/D/Documents/Notes
DESKTOP_SESSION=ubuntu
LC_MEASUREMENT=en_US.UTF-8
HOME=/home/hing
VTE_VERSION=7600
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1000/bus,guid=033c249a50c1074bad23d3c168cd2e6d
LC_NAME=en_US.UTF-8
LC_NUMERIC=en_US.UTF-8
GTK_MODULES=gail:atk-bridge
XDG_DATA_DIRS=/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/
XDG_CONFIG_DIRS=/etc/xdg/xdg-ubuntu:/etc/xdg
GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/dc5acc0f_4185_4984_8677_c5089ae1c586
LC_MONETARY=en_US.UTF-8
GDMSESSION=ubuntu
QT_IM_MODULE=ibus
DEBUGINFOD_URLS=https://debuginfod.ubuntu.com 
LC_ADDRESS=en_US.UTF-8
LC_TELEPHONE=en_US.UTF-8
XMODIFIERS=@im=ibus
DBUS_STARTER_BUS_TYPE=session
COLORTERM=truecolor
GNOME_SHELL_SESSION_MODE=ubuntu
MEMORY_PRESSURE_WATCH=/sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/app.slice/app-gnome\x2dsession\x2dmanager.slice/gnome-session-manager@ubuntu.service/memory.pressure
SHELL=/usr/bin/fish
QT_ACCESSIBILITY=1
GNOME_DESKTOP_SESSION_ID=this-is-deprecated
DISPLAY=:1
LC_TIME=en_US.UTF-8
GSM_SKIP_SSH_AGENT_WORKAROUND=true
LC_PAPER=en_US.UTF-8
WINDOWPATH=2
SHLVL=1
GNOME_TERMINAL_SERVICE=:1.110
MEMORY_PRESSURE_WRITE=c29tZSAyMDAwMDAgMjAwMDAwMAA=
XDG_RUNTIME_DIR=/run/user/1000
XAUTHORITY=/run/user/1000/gdm/Xauthority
XDG_SESSION_DESKTOP=ubuntu
DBUS_STARTER_ADDRESS=unix:path=/run/user/1000/bus,guid=033c249a50c1074bad23d3c168cd2e6d
TERM=xterm-256color
XDG_SESSION_TYPE=x11
XDG_MENU_PREFIX=gnome-
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
USER=hing
LOGNAME=hing
```





好的，我们来逐一解析这些环境变量。环境变量是操作系统或shell中用来存储系统信息和用户配置的动态值，它们会影响程序和脚本的行为。

我将它们分类进行解释：

---

### 1. 会话与桌面环境 (Session & Desktop Environment)

这些变量描述了当前的图形用户界面（GUI）会话。

*   **`DESKTOP_SESSION=ubuntu`**: 指明当前运行的桌面环境会话是 **Ubuntu**（通常是基于GNOME的定制版）。
*   **`XDG_CURRENT_DESKTOP=ubuntu:GNOME`**: 更详细地说明了当前桌面环境是 **Ubuntu** 和 **GNOME**。一些程序会根据这个变量来调整其行为或外观以更好地集成。
*   **`XDG_SESSION_TYPE=x11`**: 指出显示服务器使用的是传统的 **X11/X.Org** 系统，而不是新的 **Wayland**。
*   **`GDMSESSION=ubuntu`**: GDM (GNOME Display Manager) 是Ubuntu的登录管理器。这个变量告诉GDM要启动哪个会话。
*   **`GNOME_SHELL_SESSION_MODE=ubuntu`**: 指定GNOME Shell运行在Ubuntu模式（可能启用了一些Ubuntu特有的扩展或主题）。
*   **`SESSION_MANAGER=local/he-books:...`**: 指向当前会话的地址，用于会话管理（如保存和恢复应用程序状态）。

---

### 2. 用户与路径 (User & Paths)

这些变量定义了用户的基本信息和重要目录路径。

*   **`USER=hing`**, **`LOGNAME=hing`**, **`USERNAME=hing`**: 当前登录的用户名。
*   **`HOME=/home/hing`**: 当前用户的家目录绝对路径。
*   **`PWD=/home/hing/Windows/D/Documents/Notes`**: **Print Working Directory**，shell的当前工作目录。
*   **`SHELL=/usr/bin/fish`**: 非常重要的变量，指明了当前用户使用的默认shell是 **Fish**，而不是更常见的Bash。
*   **`PATH=...`**: 定义了shell在执行命令时搜索可执行文件的目录列表及其顺序。当你在终端输入一个命令（如 `ls` 或 `python`），系统会按照 `PATH` 中列出的目录顺序去查找这个命令。

---

### 3. 本地化与语言 (Localization & Language - i18n)

这些变量控制着区域、语言、字符编码等国际化设置。你的设置非常有意思，是中西结合的混合模式。

*   **`LANG=zh_CN.UTF-8`**: **主区域设置**。这是最重要的变量，它设定了默认的语言（`zh_CN` 中文-中国）和字符编码（`UTF-8`）。如果一个更具体的变量（如下面的 `LC_*`）没有设置，程序就会使用 `LANG` 的值。
*   **`LANGUAGE=zh_CN:en`**: 给gettext库使用的**语言优先级列表**。程序会首先尝试使用中文（zh_CN）显示消息，如果找不到中文翻译，则会回退到英文（en）。
*   **`LC_TIME=en_US.UTF-8`**: **单独控制时间/日期格式**。这解释了为什么你的系统界面是中文，但日期、时间、星期等的显示格式可能是美式的（例如，`MM/DD/YYYY` 而不是 `YYYY-MM-DD`）。
*   **`LC_MONETARY=en_US.UTF-8`**: 控制货币格式（如货币符号、小数点）。
*   **`LC_NUMERIC=en_US.UTF-8`**: 控制数字格式（如小数点用 `.`，千位分隔符用 `,`）。
*   **`LC_PAPER=en_US.UTF-8`**: 控制默认纸张尺寸（如US Letter）。
*   **`LC_MEASUREMENT=en_US.UTF-8`**: 控制测量系统（如使用英制单位）。
*   **`LC_IDENTIFICATION=en_US.UTF-8`**, **`LC_NAME=en_US.UTF-8`**, **`LC_ADDRESS=en_US.UTF-8`**, **`LC_TELEPHONE=en_US.UTF-8`**: 分别控制元数据、姓名格式、地址格式和电话号码格式的区域设置。

**总结一下你的区域设置**：你的系统**语言是中文**，但**格式（数字、日期、货币等）是美国英语**。这是一种常见的配置，用户喜欢中文界面，但偏好国际化的数据格式。

---

### 4. 显示与图形 (Display & Graphics)

这些变量与图形显示相关。

*   **`DISPLAY=:1`**: X11显示服务器的地址。`:1` 表示是第一个屏幕上的第一个显示服务器（`:0` 通常是第一个）。几乎所有GUI程序都需要这个变量来知道在哪里绘制窗口。
*   **`XAUTHORITY=/run/user/1000/gdm/Xauthority`**: 包含X11认证cookie的文件路径，用于向X服务器证明你有权限连接它。

---

### 5. 输入法 (Input Method)

*   **`GTK_MODULES=gail:atk-bridge`**: 加载的GTK模块（与辅助功能相关）。
*   **`QT_IM_MODULE=ibus`**, **`XMODIFIERS=@im=ibus`**: 指明系统使用的输入法框架是 **IBus**。这告诉GTK、Qt等图形工具包使用IBus来处理中文、日文等文字的输入。

---

### 6. 进程间通信 (Inter-Process Communication)

*   **`DBUS_SESSION_BUS_ADDRESS=...`**: D-Bus会话总线的地址。D-Bus是Linux上用于程序之间相互通信的重要消息总线系统。桌面应用程序大量使用它。

---

### 7. 其他杂项 (Miscellaneous)

*   **`SSH_AUTH_SOCK=...`**: SSH认证套接字的路径。`ssh-agent` 使用这个套接字来管理你的SSH密钥，让你无需重复输入密码。
*   **`TERM=xterm-256color`**: 告诉程序你正在使用的终端模拟器类型及其功能（支持256色）。这会影响程序（如文本编辑器、`ls` 的彩色输出）如何向终端输出内容。
*   **`COLORTERM=truecolor`**: 进一步指明终端支持真彩色（1670万色），而不仅仅是256色。
*   **`VTE_VERSION=7600`**: 你使用的终端模拟器（很可能是GNOME Terminal）基于的VTE库的版本。
*   **`PAPERSIZE=letter`**: 默认的纸张大小。
*   **`DEBUGINFOD_URLS=https://debuginfod.ubuntu.com`**: 用于调试的工具（如 `gdb`）可以从此URL下载调试信息，无需在本地安装庞大的调试包。
*   **`XDG_RUNTIME_DIR=/run/user/1000`**:  per-user运行时目录的路径，用于存储套接字、进程ID文件等单用户运行时文件。用户ID `1000` 通常是系统创建的第一个用户。
*   **`SYSTEMD_EXEC_PID=2195`**: 当前进程的PID（如果它是由systemd管理的用户进程）。
*   **`MEMORY_PRESSURE_WRITE=...`**, **`MEMORY_PRESSURE_WATCH=...`**: 与systemd和cgroups的内存压力监控相关，用于优化系统在内存不足时的行为。

### 总结

你的环境变量描绘了一个非常标准且配置良好的 **Ubuntu GNOME 桌面环境**，运行在 **X11** 上。最突出的特点是：
1.  你使用 **Fish** 作为你的默认shell。
2.  你的系统采用了**中西混合的区域设置**：中文界面，美式格式。
3.  你使用 **IBus** 作为输入法框架。
