# 打包与压缩

## tar

### 介绍

`tar` 是一个打包指令，仅能将多个文件进行打包操作，不涉及压缩。

```shell
tar [模式选项] [其它选项] <输出的文件名> <要处理的文件或目录...>
```

模式选项是命令的核心，决定了 `tar` 要做什么基本操作，必须三选其一。

| 选项 | 全称        | 含义                                      |
| ---- | ----------- | ----------------------------------------- |
| `-c` | `--create`  | **创建**一个新的归档文件（打包/压缩）。   |
| `-x` | `--extract` | **解包**一个已有的归档文件（解压/解包）。 |
| `-t` | `--list`    | **列出**归档文件中的内容列表，不解包。    |

其它选项与模式选项组合使用，提供附加功能。

| 选项         | 全称/含义          | 说明                                                     |
| ------------ | ------------------ | -------------------------------------------------------- |
| `-f`         | `--file`           | **指定归档文件名**。**这个选项后面必须紧跟文件名！**     |
| `-v`         | `--verbose`        | **显示详细过程**，列出正在处理的文件。                   |
| `-C`         | `--directory`      | **指定解包到的目录**。                                   |
| `-P`         | `--absolute-names` | 保留绝对路径（默认会移除路径开头的 `/`，出于安全考虑）。 |
| `--exclude=` |                    | 排除不需要打包的文件或模式。                             |

指定压缩算法

| 选项 | 全称/含义 | 说明                                                         |
| ---- | --------- | ------------------------------------------------------------ |
| `-z` | `--gzip`  | 通过 **gzip** 过滤器进行压缩或解压。处理 `.gz` 或 `.tgz` 文件。 |
| `-j` | `--bzip2` | 通过 **bzip2** 过滤器进行压缩或解压。处理 `.bz2` 文件。      |
| `-J` | `--xz`    | 通过 **xz** 过滤器进行压缩或解压。处理 `.xz` 文件。          |



### 打包并压缩

**打包并用 gzip 压缩（最常用）**

```bash
# 打包并用 gzip 压缩，生成 archive.tar.gz
tar -czvf archive.tar.gz project/
# 输出：会列出所有被加入打包的文件
```



### 解除打包

```shell
# 解压 .tar.gz 文件
tar -xzvf archive.tar.gz

# 解压 .tar.bz2 文件
tar -xjvf archive.tar.bz2

# 解压 .tar.xz 文件
tar -xJvf archive.tar.xz

# 解压 .tar 文件 (未压缩)
tar -xvf archive.tar
```











## gzip 

全程为 ` GNU zip `。

只能压缩但个文件，且压缩后不保留原文件。

```shell
gzip -k files
# 可以保留原文件
gzip -v filse
# 显示详细信息
gzip -d filse
# 解压缩
gzip -[1~9] filse
# 设置压缩级别。
gzip - filse
# 

```

## zip unzip



### 使用 ` tar ` 命令

| 后缀 | 作用                                             | 说明 |
| ---- | ------------------------------------------------ | ---- |
| -z   | 使用 gzip 压缩算法进行解压或压缩                 |      |
| -x   | 表示提取（解压）文件                             |      |
| -v   | 显示详细的操作信息，即在解压过程中显示文件列表。 |      |
| -f   | 指定要操作的文件名                               |      |
|      |                                                  |      |
|      |                                                  |      |
|      |                                                  |      |

