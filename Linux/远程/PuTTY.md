# PuTTY

### 什么是 PuTTY？

**PuTTY** 是一个免费的、开源的 SSH 和 Telnet 客户端软件，主要用于 Windows 操作系统。它由 Simon Tatham 开发并维护，是 Windows 环境下连接和管理远程 Linux 服务器、网络设备（如路由器、交换机）的**事实标准工具**。

简单来说，它是一个让你能从 Windows 电脑上安全地登录到另一台远程计算机（通常是 Unix/Linux 系统）的窗口。

---

### 核心功能与特点

1.  **多协议支持**：
    *   **SSH (Secure Shell)**：**最核心、最常用的功能**，提供加密的远程登录和命令执行。
    *   **Telnet**：明文传输的旧协议，不安全，现在主要用于调试内部网络设备。
    *   **Rlogin**：另一个旧的远程登录协议，现已很少使用。
    *   **Serial**：用于通过串行线（COM 端口）连接设备，如配置路由器、嵌入式系统。

2.  **轻量级与便携**：
    *   它是一个独立的可执行文件（`.exe`），不需要安装，可以放在 U 盘里随处运行（便携版）。
    *   占用资源极少，启动速度非常快。

3.  **开源免费**：
    *   完全免费使用，并且由于其开源特性，安全性经过了广泛的审查。

4.  **图形化界面 (GUI)**：
    *   为不熟悉命令行的 Windows 用户提供了友好的配置界面来管理连接，而不是记住复杂的命令行参数。

---

### 主要组件

PuTTY 并不仅仅是一个程序，它实际上是一个包含多个工具的工具集：

*   **`putty.exe`**：主程序，用于 SSH、Telnet 和 Rlogin 连接。
*   **`pscp.exe`** (PuTTY Secure Copy)：基于 SSH 的命令行文件传输工具，类似于 Linux 的 `scp`。
*   **`psftp.exe`** (PuTTY SFTP)：基于 SSH 的交互式文件传输工具，类似于 Linux 的 `sftp`。
*   **`puttygen.exe`** (PuTTY Key Generator)：用于生成和管理 SSH 公钥/私钥对的工具。
*   **`pageant.exe`** (PuTTY Authentication Agent)：用于在内存中加载私钥，实现单点登录。你只需输入一次密钥密码，Pageant 就会在后台托管你的密钥，此后所有 PuTTY 系列工具都可以无需再次输入密码即可使用该密钥进行认证。

---

### 为什么在 Windows 上需要 PuTTY？

在过去，Windows 操作系统自身没有提供内置的 SSH 客户端。如果你想从一台 Windows 电脑连接到 Linux 服务器，PuTTY 几乎是唯一简单、可靠且免费的选择。尽管**现代版本的 Windows 10 和 11 已经内置了 OpenSSH 客户端**（可以直接在 PowerShell 或 CMD 中使用 `ssh` 命令），但 PuTTY 因其以下优势依然广受欢迎：

1.  **兼容性**：可以在任何版本的 Windows 上运行，包括古老的 Windows XP。
2.  **习惯与生态**：很多管理员已经用了它十几年，非常熟悉其界面和操作流程，并且有大量基于 PuTTY 的脚本和教程。
3.  **强大的会话管理**：可以保存不同服务器的连接信息（主机名、端口、用户名、密钥等），下次直接双击即可连接，非常方便。
4.  **丰富的配置选项**：可以高度自定义终端外观（字体、颜色）、键盘行为、连接设置等。

---

### 基本使用教程

#### 1. 建立基本连接

1.  **下载与启动**：从官方站点下载并运行 `putty.exe`。
2.  **填写连接信息**：
    *   **Host Name (or IP address)**：输入远程服务器的 IP 地址或域名（如 `192.168.1.100` 或 `example.com`）。
    *   **Port**：SSH 默认端口是 `22`，如果服务器使用了不同端口，请修改。
    *   **Connection type**：选择 **SSH**。
3.  **保存会话（可选但推荐）**：在 "Saved Sessions" 框输入一个名字（如 "My Web Server"），点击 "Save"，这样下次就不用重新输入了。
4.  **连接**：点击 "Open" 按钮。



#### 2. 首次连接与服务器认证

第一次连接某台服务器时，PuTTY 会显示一个安全警告，提示你服务器的 SSH 密钥指纹。这是为了防止中间人攻击。确认无误后，点击 "Yes" 将密钥缓存到本地，以后就不会再提示了。



#### 3. 登录认证

在终端窗口中：
*   **密码登录**：输入服务器上的用户名和密码。
*   **密钥登录（更安全）**：
    1.  使用 `puttygen.exe` 生成一对密钥（通常格式为 `.ppk`）。
    2.  将公钥内容添加到服务器上的 `~/.ssh/authorized_keys` 文件中。
    3.  在 PuTTY 的配置界面中 (`Connection -> SSH -> Auth`)，在 "Private key file for authentication" 处浏览选择你的 `.ppk` 私钥文件。
    4.  连接时，你只需要输入密钥的密码（如果生成时设置了的话），而不是用户密码。

#### 4. 使用 PSCP 进行文件传输

打开 Windows 命令提示符 (CMD)，使用类似 `scp` 的语法：
```cmd
# 从本地复制到远程
pscp -i my_private_key.ppk C:\local\file.txt user@192.168.1.100:/remote/path/

# 从远程复制到本地
pscp -i my_private_key.ppk user@192.168.1.100:/remote/file.txt C:\local\path/
```

---

### 优缺点总结

| 优点                       | 缺点                                                         |
| :------------------------- | :----------------------------------------------------------- |
| **免费开源**               | **界面略显陈旧**                                             |
| **轻量级，无需安装**       | **原生不支持标签页**（需配合第三方软件如 **PuTTY Connection Manager** 或 **SuperPuTTY**） |
| **功能强大，协议支持全面** | **配置文件与 Windows 自带的 OpenSSH 不兼容**（需使用 `puttygen` 转换密钥格式） |
| **出色的会话管理**         |                                                              |
| **丰富的自定义选项**       |                                                              |
| **历史悠久，社区支持强大** |                                                              |

---

### 现代替代品

虽然 PuTTY 依然强大，但现在也有一些更现代的替代品，它们通常支持标签页、更好的字体渲染和更丰富的功能：

*   **Windows Terminal**：微软开发的现代化终端应用程序，可以集成 PowerShell、CMD、Azure Cloud Shell 以及 **Windows 自带的 OpenSSH `ssh` 命令**，是目前Windows上的首选终端。
*   **MobaXterm**：功能极其丰富的全能终端，内置了 X11 服务器、SFTP 浏览器、多标签页等，非常强大。
*   **Tabby**：一款非常现代化的开源终端，支持跨平台、标签页、主题插件等。
*   **SecureCRT**：功能强大的商业软件。


