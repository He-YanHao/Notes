# 生命周期

变量存在生命周期，一旦生命周期到期内存就会被释放，不复存在。

按从长到短排列是：

- 在函数外申请的数据不会被释放。

- 在函数中申请的数据在函数结束后空间被释放。
- 在for循环中申请的数据在for循环结束后空间被释放。

# 储存类型

## auto 自动变量

auto 存储类是所有局部变量默认的存储类。

定义在函数中的变量默认为 auto 存储类，这意味着它们在函数开始时被创建，在函数结束时被销毁。

## extern 外部变量

使用 extern 修饰的变量在被创建时不会被分配内存，而是提示编译器去其他相关联的文件中寻找该变量。

特点为：不分配内存，仅声明存在性。

用作函数声明时一般通常省略 `extern`。

```c
extern void func();
//通常省略extern
void func();
```

## static 静态变量

修饰函数内局部变量时：

延长生命周期，函数运行完毕后不释放空间，继续保留原值。

修饰函数外全局变量时：

禁止变量被其他文件通过 `extern` 访问。

## register 寄存器变量

使用 register 修饰的变量被建议存储在CPU寄存器里，而不是 RAM。因此有着更高的速度，但不能直接取地址，所以不能使用取地址符&，也无法使用一元的 '&' 运算符。

> 真的仅仅是建议，是否照做由编译器根据硬件条件决定。

其大小不可超过寄存器的大小，一般是一个字 32 位。

## typedef 自定义变量

为现有类型创建新名称。

## volatile 易变变量

**每次读取必须从内存加载**（而非使用寄存器中的缓存值）。

**每次写入必须立刻写回内存**（而非暂存在寄存器或写缓冲区）。

阻止编译器优化可能被**外部修改**的变量，比如嵌入式中的寄存器。

## const 只读变量

声明**只读**对象。