# C++标准模板库（STL）介绍

C++标准模板库（Standard Template Library，简称STL）是C++标准库的重要组成部分，提供了一系列通用的模板类和函数，实现了常用的数据结构和算法。

## STL的三大核心组件

### 容器（Containers）

STL提供了多种容器类模板，用于存储和管理数据集合：

#### 顺序容器
- `vector`：动态数组，支持快速随机访问
- `deque`：双端队列，支持首尾快速插入/删除
- `list`：双向链表
- `forward_list`（C++11）：单向链表
- `array`（C++11）：固定大小数组

#### 关联容器
- `set`：有序唯一键集合
- `multiset`：有序键集合（允许重复）
- `map`：键值对集合，键唯一
- `multimap`：键值对集合（允许重复键）

#### 无序关联容器（C++11）
- `unordered_set`：哈希集合
- `unordered_multiset`：哈希集合（允许重复）
- `unordered_map`：哈希映射
- `unordered_multimap`：哈希映射（允许重复键）

#### 容器适配器
- `stack`：后进先出（LIFO）栈
- `queue`：先进先出（FIFO）队列
- `priority_queue`：优先级队列

### 算法（Algorithms）

STL提供了约100种算法，作用于容器上的各种操作：

- 非修改序列操作：`find`, `count`, `for_each`, `search`等
- 修改序列操作：`copy`, `move`, `transform`, `replace`, `fill`等
- 排序和相关操作：`sort`, `stable_sort`, `partial_sort`, `nth_element`等
- 数值算法：`accumulate`, `inner_product`, `partial_sum`等

这些算法通过迭代器与容器交互，不依赖于具体容器类型。

### 迭代器（Iterators）

迭代器提供了访问容器元素的统一接口，分为以下几类：

- 输入迭代器：只读，单向
- 输出迭代器：只写，单向
- 前向迭代器：读写，单向
- 双向迭代器：读写，双向移动
- 随机访问迭代器：读写，支持随机访问

## STL的其他重要组件

### 函数对象（Functors）

可调用对象，包括：
- 普通函数
- 函数指针
- 重载了`operator()`的类对象（函数对象）
- lambda表达式（C++11）

### 适配器（Adapters）

改变组件接口的工具：
- 容器适配器（如`stack`, `queue`）
- 迭代器适配器（如`reverse_iterator`）
- 函数适配器（如`bind`, `not1`）

### 分配器（Allocators）

管理内存分配的模板参数，允许自定义内存管理策略。

## STL的特点和优势

1. **泛型编程**：基于模板，类型安全且高效
2. **可复用性**：通用组件减少重复编码
3. **效率**：算法经过高度优化
4. **可扩展性**：可自定义容器、算法和迭代器
5. **标准化**：跨平台一致性

## 简单示例

```cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <numeric>

int main() {
    // 创建一个vector容器
    std::vector<int> numbers = {3, 1, 4, 1, 5, 9, 2, 6};
    
    // 使用算法排序
    std::sort(numbers.begin(), numbers.end());
    
    // 使用迭代器遍历
    for(auto it = numbers.begin(); it != numbers.end(); ++it) {
        std::cout << *it << " ";
    }
    std::cout << std::endl;
    
    // 使用算法计算总和
    int sum = std::accumulate(numbers.begin(), numbers.end(), 0);
    std::cout << "Sum: " << sum << std::endl;
    
    // 使用lambda表达式
    std::for_each(numbers.begin(), numbers.end(), [](int n) {
        std::cout << n * n << " ";
    });
    
    return 0;
}
```

STL是现代C++编程的核心工具集，熟练掌握STL可以显著提高开发效率和代码质量。