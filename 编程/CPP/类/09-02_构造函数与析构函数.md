# 构造函数 析构函数

## 构造函数 (Constructor)

**与类同名**
构造函数名称必须与类名完全相同（包括大小写）。

```cpp
class MyClass {
public:
    MyClass();// 构造函数声明
    }
};

MyClass() { // 构造函数
	// 初始化代码
}
```

**无返回类型**
构造函数没有返回类型（包括 `void`）。

**自动调用**
对象创建时自动调用：

```cpp
MyClass obj; // 自动调用 MyClass()
```

**可重载**
一个类可以有多个构造函数（参数列表不同）：

```cpp
class Point {
public:
    Point() : x(0), y(0) {}             // 默认构造
    Point(int a) : x(a), y(a) {}        // 单参数构造
    Point(int a, int b) : x(a), y(b) {} // 双参数构造
private:
    int x, y;
};
```

## 构造函数初始化

### 基本类型初始化

```cpp
class Point {
    int x, y;
public:
    // 使用初始化列表
    Point(int a, int b) : x(a), y(b) {}
};
```

将成员变量 `x` 初始化为参数 `a` 的值。

将成员变量 `y` 初始化为参数 `b` 的值。



### 类成员初始化

```cpp
class Engine {
public:
    Engine(int hp) : horsepower(hp) {}
    //使用horsepower初始化hp
private:
    int horsepower;
};

class Car {
    Engine engine;  // 无默认构造函数
    //申请Engine类型对象
public:
    Car() : engine(150) {}  // 必须使用初始化列表
    //使用常量150初始化engine
    //则engine.horsepower初始化成了150
};
```





### 常量与引用成员

```cpp
class Student {
    const int id;
    string& nameRef;  // 引用成员
public:
    Student(int sid, string& name) 
        : id(sid), nameRef(name)  // 必须在此初始化
    {}
};
```







## 析构函数 (Destructor)

- **符号**：类名前加 `~`

- **作用**：对象销毁时自动调用，用于资源清理

- **示例**：

  cpp

  ```cpp
  class MyClass {
  public:
      // 析构函数：使用 ~ 符号
      ~MyClass() {
      // 清理代码（如释放内存、关闭文件等）
      }
  };
  ```