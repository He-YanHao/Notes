## 区间树（Interval Tree）

区间树是一种用于存储和管理区间的二叉搜索树，专门设计用于高效处理区间查询问题。

**数据结构特性**
- 每个节点存储一个区间 `[low, high]`
- 以区间低端点 `low` 作为二叉搜索树的键
- 额外维护以该节点为根的子树中所有区间的最大端点值 `max`

**节点结构**
```c
typedef struct Interval {
    int low;
    int high;
} Interval;

typedef struct IntervalTreeNode {
    Interval interval;
    int max;  // 子树中所有区间的最大端点
    struct IntervalTreeNode* left;
    struct IntervalTreeNode* right;
} IntervalTreeNode;
```

**核心操作**
- **区间插入**：按 `low` 值插入，同时更新 `max` 值
- **区间查询**：查找与给定区间重叠的所有区间
- **区间删除**：移除指定区间

**区间查询算法**
```c
// 检查两个区间是否重叠
int isOverlapping(Interval a, Interval b) {
    return a.low <= b.high && b.low <= a.high;
}

// 查询与给定区间重叠的所有区间
void intervalSearch(IntervalTreeNode* root, Interval target) {
    if (root == NULL) return;
    
    if (isOverlapping(root->interval, target)) {
        printf("找到重叠区间: [%d, %d]\n", 
               root->interval.low, root->interval.high);
    }
    
    // 决定搜索方向
    if (root->left != NULL && root->left->max >= target.low) {
        intervalSearch(root->left, target);
    }
    
    intervalSearch(root->right, target);
}
```

**性能优势**
- 区间查询：O(log n + k)，其中k是结果数量
- 空间复杂度：O(n)
- 支持动态区间集合的高效管理

**应用场景**
- 日程安排和资源分配
- 基因组序列比对
- 计算机图形学中的窗口查询
- 数据库系统中的时空数据索引

区间树通过巧妙维护额外信息，在保持二叉搜索树简洁性的同时，为区间查询问题提供了高效解决方案。