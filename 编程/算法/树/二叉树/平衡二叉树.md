## 平衡二叉树（Balanced Binary Tree）

平衡二叉树是一种特殊的二叉搜索树，通过自动保持树的高度平衡来确保操作效率。

**核心特性**
- 任何节点的左右子树高度差不超过1
- 左右子树也都是平衡二叉树
- 自动调整结构以维持平衡条件

**平衡因子**
- 定义：节点左子树高度 - 右子树高度
- 平衡条件：平衡因子 ∈ [-1, 0, 1]
- 失衡条件：平衡因子 ∈ [-∞, -2] ∪ [2, +∞]

**主要类型**
1. **AVL树**：严格的平衡条件，最早被发明的自平衡二叉搜索树
2. **红黑树**：相对宽松的平衡，广泛应用于实际系统
3. **伸展树**：通过伸展操作保持平衡
4. **Treap**：结合二叉搜索树和堆的特性

**平衡调整操作**
- **左旋**：以某个节点为支点向右倾斜的子树向左旋转
- **右旋**：以某个节点为支点向左倾斜的子树向右旋转
- **左右双旋**：先左旋后右旋
- **右左双旋**：先右旋后左旋

**节点结构（AVL树示例）**
```c
typedef struct AVLNode {
    int data;
    int height;          // 节点高度
    int balance_factor;  // 平衡因子
    struct AVLNode* left;
    struct AVLNode* right;
} AVLNode;
```

**性能优势**
- 查找、插入、删除：最坏情况O(log n)
- 避免普通BST退化为链表的情况
- 提供稳定的操作性能

**应用场景**
- 数据库索引（特别是内存数据库）
- 文件系统目录结构
- 高效的内存管理
- 实时系统中的调度器

平衡二叉树通过在插入和删除时自动调整结构，解决了普通二叉搜索树可能退化的缺点，确保了各种操作的高效性。