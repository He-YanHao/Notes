# 数据选择器

## 什么是数据选择器

**数据选择器**是一种能够从**多个输入数据源中选择一个**并将其传输到**单个输出端**的数字逻辑电路，也称为**多路选择器**或**MUX**。

它是数据分配器（DEMUX）的逆过程，在数字系统中承担着数据选择、信号路由、并行转串行等重要功能。



## 数据选择器的基本概念

### 基本结构

-   数据输入：$D_0$ $D_1$ $D_2$ $D_3$
-   控制信号：$A_0$ $A_1$
-   数据输出：Y
-   使能端：E



### 功能定义
数据选择器根据 **选择线/控制信号** 的状态，从2ⁿ个输入数据中选择一个传送到输出端。



## 关键参数

### 数据输入位数

每个输入数据的位宽，可以是1位或多位并行。
- **1位**：单线数据选择
- **n位**：并行数据选择



### 输入通道数

数据选择器支持的输入通道数量，通常为2ⁿ个。



### 选择线位数

选择信号的位数，n条选择线对应2ⁿ个输入通道。



### 传播延迟

从选择信号稳定到数据出现在输出的时间。



### 使能控制

使能端的状态控制整个器件的工作。



### 输出类型

- **三态输出**：高阻态、高电平、低电平
- **推挽输出**：只能输出高或低电平



## 基本数据选择器类型

### 2-to-1 数据选择器

**功能表**
| 使能E | 选择S | 数据输出 Y |
| ----- | ----- | ---------- |
| 0     | X     | 0          |
| 1     | 0     | D0         |
| 1     | 1     | D1         |



### 4-to-1 数据选择器

**功能表**
| 使能端 E | 控制信号 A1 | 控制信号 A0 | 数据输出 Y |
| -------- | ----------- | ----------- | ---------- |
| 0        | X           | X           | 0          |
| 1        | 0           | 0           | D0         |
| 1        | 0           | 1           | D1         |
| 1        | 1           | 0           | D2         |
| 1        | 1           | 1           | D3         |



### 8-to-1 数据选择器

**功能表**
| 使能端 E | 控制信号 A2 | 控制信号 A1 | 控制信号 A0 | 数据输出 Y |
| -------- | ----------- | ----------- | ----------- | ---------- |
| 0        | X           | X           | X           | 0          |
| 1        | 0           | 0           | 0           | D0         |
| 1        | 0           | 0           | 1           | D1         |
| 1        | 0           | 1           | 0           | D2         |
| 1        | 0           | 1           | 1           | D3         |
| 1        | 1           | 0           | 0           | D4         |
| 1        | 1           | 0           | 1           | D5         |
| 1        | 1           | 1           | 0           | D6         |
| 1        | 1           | 1           | 1           | D7         |



## 集成数据选择器芯片

**74LS151**（8-to-1 数据选择器）

**74LS153**（双4-to-1 数据选择器）

**CD4051**（8通道模拟数据选择器）



## 数据选择器的工作原理分析

### 真值表分析法

**4-to-1数据选择器真值表**
| 使能端 E | 控制信号 A1 | 控制信号 A0 | 数据输入 D0 | 数据输入 D1 | 数据输入 D2 | 数据输入 D3 | 数据输出 Y |
| -------- | ----------- | ----------- | ----------- | ----------- | ----------- | ----------- | ---------- |
| 0        | X           | X           | X           | X           | X           | X           | 0          |
| 1        | 0           | 0           | 0           | X           | X           | X           | 0          |
| 1        | 0           | 0           | 1           | X           | X           | X           | 1          |
| 1        | 0           | 1           | X           | 0           | X           | X           | 0          |
| 1        | 0           | 1           | X           | 1           | X           | X           | 1          |
| 1        | 1           | 0           | X           | X           | 0           | X           | 0          |
| 1        | 1           | 0           | X           | X           | 1           | X           | 1          |
| 1        | 1           | 1           | X           | X           | X           | 0           | 0          |
| 1        | 1           | 1           | X           | X           | X           | 1           | 1          |



### 逻辑表达式

**4-to-1数据选择器逻辑表达式**：
$$Y = E \cdot (A_1'A_0'D_0 + A_1'A_0D_1 + A_1A_0'D_2 + A_1A_0D_3)$$

**通用表达式**（n-to-1数据选择器）：
$$Y = E \cdot \sum_{i=0}^{2^n-1} (m_i \cdot D_i)$$
其中$m_i$是对应选择线组合的最小项。



## 数据选择器与数据分配器的关系

### 功能对比

| 特性         | 数据选择器（MUX）    | 数据分配器（DEMUX）    |
| ------------ | -------------------- | ---------------------- |
| **数据流向** | 多输入 → 单输出      | 单输入 → 多输出        |
| **功能**     | 从多个源中选择一个   | 将一个源分配到多个目标 |
| **应用**     | 数据路由、并行转串行 | 地址译码、通道选择     |

### 系统级应用

数据选择器与数据分配器常配合使用，构建完整的数据通路：

```
多个数据源 → [MUX] → 传输通道 → [DEMUX] → 多个数据目标
```



## 典型应用电路

### 并行转串行转换

```
并行输入 D0-D7 → [8-to-1 MUX] → 串行输出
                     ↑
                 [3位计数器] → 选择信号
```

### 函数发生器

利用数据选择器实现任意组合逻辑函数：

```
输入变量 A,B,C → [选择信号] → [8-to-1 MUX] → 输出函数 F
                     ↑
                 [函数真值表] → 数据输入 D0-D7
```

### 数据路由选择

```
数据源1 → +
          |
数据源2 → + → [4-to-1 MUX] → 处理器
          |
数据源3 → +
          |
数据源4 → +
     ↑
  选择信号
```



## 扩展与级联

### 树状级联扩展

**16-to-1数据选择器**：
```
        [4-to-1 MUX] -- 最终输出
          /   |   \
         /    |    \
        /     |     \
[4-to-1]  [4-to-1]  [4-to-1]  [4-to-1]
 | | | |   | | | |   | | | |   | | | |
D0-D3    D4-D7    D8-D11   D12-D15
```

**选择信号分配**：
- 高2位：选择第一级MUX
- 低2位：选择第二级MUX