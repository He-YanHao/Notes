# 基本类介绍

## lv_obj_t类介绍

`lv_obj_t` = 所有 GUI 对象的“最小公共集合”，是所有 GUI 对象的父类。

它负责的事情只有四类：

1.  **对象树关系**
2.  **几何信息**
3.  **样式系统入口**
4.  **事件 / 状态**

其类型定义如下：

```c
typedef struct _lv_obj_t {
    const lv_obj_class_t * class_p;           // 对象的类指针，定义了对象的类型及其方法
    struct _lv_obj_t * parent;                // 父对象指针，用于支持层级结构（对象的父子关系）
    _lv_obj_spec_attr_t * spec_attr;          // 专用属性指针，一些特定类型对象的额外属性
    _lv_obj_style_t * styles;                 // 样式指针，包含该对象的所有样式信息（如颜色、边框等）
#if LV_USE_USER_DATA
    void * user_data;                         // 用户数据指针，允许用户自定义数据存储
#endif
    lv_area_t coords;                         // 存储对象的位置和尺寸，包含 x, y, width, height 等信息
    lv_obj_flag_t flags;                      // 标志位，表示对象的状态、特性等
    lv_state_t state;                         // 状态标志，记录对象的当前状态（如是否被选中、是否活动等）
    
    uint16_t layout_inv : 1;                  // 布局无效标志，指示对象的布局是否需要重新计算
    uint16_t readjust_scroll_after_layout : 1;// 布局计算后是否需要调整滚动
    uint16_t scr_layout_inv : 1;              // 是否需要重新布局屏幕
    uint16_t skip_trans : 1;                  // 是否跳过变换
    uint16_t style_cnt : 6;                   // 样式计数，指示样式的版本
    uint16_t h_layout : 1;                    // 水平布局标志
    uint16_t w_layout : 1;                    // 垂直布局标志
    uint16_t being_deleted : 1;               // 是否正在删除对象
} lv_obj_t;
```



## lv_obj_class_t类介绍

LVGL v8 开始引入：

```c
lv_obj_class_t
```

可以理解为C 语言版的虚函数表（vtable）

```c
typedef struct _lv_obj_class_t {
    const struct _lv_obj_class_t * base_class;  // 基类指针，支持类继承
    void (*constructor_cb)(const struct _lv_obj_class_t * class_p, struct _lv_obj_t * obj); // 构造函数回调
    void (*destructor_cb)(const struct _lv_obj_class_t * class_p, struct _lv_obj_t * obj);  // 析构函数回调
#if LV_USE_USER_DATA
    void * user_data;   // 用户数据指针，允许存储自定义数据
#endif
    void (*event_cb)(const struct _lv_obj_class_t * class_p, struct _lv_event_t * e);  /**< 事件处理回调 */
    lv_coord_t width_def;        // 默认宽度
    lv_coord_t height_def;       // 默认高度
    uint32_t editable : 2;       // 对象是否可编辑，取值来自 ::lv_obj_class_editable_t
    uint32_t group_def : 2;      // 组定义，取值来自 ::lv_obj_class_group_def_t
    uint32_t instance_size : 16; // 实例大小，指对象占用的内存大小
} lv_obj_class_t;
```

## lv_area_t类介绍



```c

```







## 基础容器类（Layout / 容器）

代表：

-   `lv_obj`
-   `lv_cont`（v7）
-   `lv_obj + flex/grid`

**用途：**

-   组织子对象
-   不关心内容

**关键成员（概念上）：**

-   子对象链表
-   布局属性
-   padding / scroll



## 文本类（Label）

代表：

-   `lv_label`

**用途：**

-   显示文本

**重要“私有成员”：**

-   文本指针
-   字体
-   对齐 / 换行模式



## 图像类（Image）

代表：

-   `lv_img`

**用途：**

-   显示 bitmap
-   摄像头最终承载对象

**重要成员：**

-   image source（指针 / 文件 / symbol）
-   color format
-   zoom / angle



## 交互控件类（Button / Slider / Arc）

代表：

-   `lv_btn`
-   `lv_slider`
-   `lv_arc`

**用途：**

-   接收输入
-   改变状态

**重要成员：**

-   当前值
-   最小 / 最大
-   动画状态



## 绘制型控件（Line / Bar / Meter）

代表：

-   `lv_line`
-   `lv_bar`
-   `lv_meter`

**用途：**

-   数据可视化
-   自定义 draw

**重要成员：**

-   点数组
-   数值区间
-   指示器描述
