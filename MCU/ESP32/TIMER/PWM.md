# PWM

## 计算公式

频率（f）与周期 \( T \) 的关系为：

$$
频率f = \frac{1}{周期T}
$$
频率（f）的计算公式是：
$$
{PWM频率}_{f} = \frac{时钟源频率}{(2^{占空比分辨率位数}) \times (分频系数)}
$$
以时钟源频率为 80MHz 的 ESP32C3 为例，假设要得到一个 10KHz 的PWM波形。

则：$(2^{占空比分辨率位数}) \times (分频系数) = 8000$

当占空比分辨率 10 位（\(2^{10}=1024\)

~~分频系数一般为整数，所以用 8~~ 离谱 分频系数可以是小数

则：
$$
f_{pwm} = 80000000 / (1024 \times 8) \approx 9765.625\ \text{Hz}
$$
不合适，所以占空比分辨率至少为 11 位

