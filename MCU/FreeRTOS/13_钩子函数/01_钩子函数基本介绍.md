# 钩子函数

## 钩子函数宏

```C
#define configUSE_IDLE_HOOK			          0
//置 1：启用空闲任务钩子函数； 置 0：禁用空闲任务钩子函数。
//空闲任务钩子函数：FreeRTOS在启动时会自动创建一个最低优先级（优先级 0）的 IDLE 任务，当没有其他任务运行时，调度器会执行 IDLE 任务，用于执行 vTaskDelete() 删除任务后的内存清理 和 低功耗模式。
//钩子函数原型：void vApplicationIdleHook(void)

#define configIDLE_SHOULD_YIELD		          1
//置 1：空闲任务进入后检查是否有用户定义的优先级为0任务，若有则立即主动让出CPU； 置 0：空闲任务完作为普通任务与用户定义的优先级为0任务竞争时间片。
//可以置2，与1略有不同。

#define configUSE_TICK_HOOK			          0
//置 1：启用时钟节拍钩子函数； 置 0：禁用时钟节拍钩子函数。
//时钟节拍钩子函数：在系统的时钟节拍中断服务程序中调用。它是在中断上下文中执行的！
//执行时间必须非常短，因为它是在中断中执行的。且仅能调用以FromISR结尾中断安全版本的API。
//钩子函数原型：void vApplicationTickHook(void )

#define configUSE_DAEMON_TASK_STARTUP_HOOK    0
//置 1：启用守护进程钩子函数； 置 0：禁用守护进程钩子函数。
//在定时器服务任务启动时，且在其进入主循环之前被调用一次，用于初始化一些需要在该任务上下文中运行的资源。
//钩子函数原型：void vApplicationDaemonTaskStartupHook( void );

#define configCHECK_FOR_STACK_OVERFLOW        0
//置 1或2：启用栈溢出钩子函数； 置 0：禁用栈溢出钩子函数。
//此值可以为1或者2，因为有两种栈溢出检测方法。
//栈溢出钩子函数：当内核检测到某个任务的栈空间溢出时调用。
//钩子函数原型：void vApplicationStackOverflowHook( TaskHandle_t xTask, signed char *pcTaskName )

#define configUSE_MALLOC_FAILED_HOOK          0
//置 1：启用Malloc失败钩子函数； 置 0：禁用Malloc失败钩子函数。
//当使用 pvPortMalloc() 分配内存失败时调用。
//钩子函数原型：void vApplicationMallocFailedHook( void )
```

## 空闲任务钩子函数



## 时钟节拍钩子函数



## 守护进程钩子函数



## 栈溢出钩子函数



## Malloc失败钩子函数