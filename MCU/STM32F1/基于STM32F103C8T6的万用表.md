# 基于STM32F103C8T6的万用表

## 需要的功能

ADC读取电压

OLED显示参数

## 分析

### 电压

最好搞，将其设置为两种可能。

1. 小于3.3V：直接ADC读取并转换。

2. 大于3.3V且小于15V：接运算放大器，读取并转换。

主要，这里将二者分为不同的ADC通道，也就是说二者同时存在，但只输出一个结果。

思路为先初始化ADC通道1，结果较小就初始化ADC通道0，提高精度。

### 电阻

串联一个10K欧姆限流电阻，则通过读取ADC值可以确定其电压。

### 电流

串联定值电阻，用电阻读取电压。

## 引脚分配

| B12  |      |      | GND  |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- |
| B13  |      |      | GND  |      |      |
| B14  |      |      | 3.3V |      |      |
| B15  |      |      | R    |      |      |
| A8   |      |      | B11  |      |      |
| A9   |      |      | B10  |      |      |
| A10  |      |      | B1   |      |      |
| A11  |      |      | B0   |      |      |
| A12  |      |      | A7   |      |      |
| A15  |      |      | A6   |      |      |
| B3   |      |      | A5   |      |      |
| B4   |      |      | A4   |      |      |
| B5   |      |      | A3   |      |      |
| B6   |      |      | A2   |      |      |
| B7   |      |      | A1   |      |      |
| B8   |      |      | A0   |      |      |
| B9   |      |      | C15  |      |      |
| 5V   |      |      | C14  |      |      |
| GND  |      |      | C13  |      |      |
| 3.3V |      |      | VB   |      |      |

