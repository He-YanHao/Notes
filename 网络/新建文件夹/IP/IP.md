# IP 简要介绍

## IP地址

是设备在网络上的唯一标识。分为两种：

*   **IPv4**： 由32位二进制数组成，通常分成4个8位组，每组转换成十进制数，并用点号`.`分隔。例如 `192.168.1.1`。地址总量有限，几乎已经耗尽。
*   **IPv6**： 由8组16进制的数字组成，例如 `2001:0db8:85a3::8a2e:0370:7334`。地址空间巨大，是未来的趋势。

家里的电脑、手机通常获取到的是 `192.168.x.x` 或 `10.x.x.x` 这样的**内网IP**（私有IP），这是路由器帮你分配的。而整个家庭网络共用一个对外的**公网IP**（由运营商分配），路由器负责在内外网之间转换（这个过程叫NAT）。



## IP地址的组成与分类

以IPv4为例，一个IP地址包含两部分信息：**网络号** 和 **主机号**。

- **网络号**： 标识设备属于**哪一个网络**。就像地址中的“城市和街道”部分，所有在同一街道的设备共享相同的网络号。
- **主机号**： 在指定的网络中**唯一标识那台设备**。就像地址中的“门牌号”。



## 子网掩码

如何区分一个IP地址中哪部分是网络号，哪部分是主机号？这就要靠**子网掩码**。

- **子网掩码**： 它是一串类似IP地址的数字（如 `255.255.255.0`），它的作用就是**指明IP地址中网络号的位数**。
    - `255` 对应的二进制是 `11111111`（8个1），表示这8位是网络号。
    - `0` 表示这8位是主机号。
    - 所以，对于IP地址 `192.168.1.100` 和子网掩码 `255.255.255.0`：
        - 网络号是：`192.168.1`
        - 主机号是：`100`



## 端口

一台设备（一个IP地址）上可能运行着很多网络程序，比如同时开着浏览器、微信、游戏。

*   IP地址把数据送到设备，端口号则指定交给设备上的哪个应用程序。
*   端口范围是 0-65535。
*   **常见端口**：
    *   **80**： HTTP协议（网页浏览）
    *   **443**： HTTPS协议（加密的网页浏览）
    *   **21**： FTP协议（文件传输）
    *   **25**： SMTP协议（发送邮件）
    *   **3306**： MySQL数据库

**IP地址 + 端口号** 就构成了一个完整的“送达地址”，在网络术语中叫 **Socket**。

## Windows查看IP

在Windows环境下使用 `ipconfig` 查看 IP ：

```
PS D:\Documents\Notes> ipconfig

Windows IP 配置


未知适配器 singbox_tun:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::14b0:f0f2:8a4a:d474%16
   IPv4 地址 . . . . . . . . . . . . : 172.18.0.1
   子网掩码  . . . . . . . . . . . . : 255.255.255.252
   默认网关. . . . . . . . . . . . . : 172.18.0.2

以太网适配器 以太网:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :

无线局域网适配器 本地连接* 9:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :

无线局域网适配器 本地连接* 10:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :

以太网适配器 VMware Network Adapter VMnet1:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::7ce7:5402:f86e:65e%4
   自动配置 IPv4 地址  . . . . . . . : 169.254.82.99
   子网掩码  . . . . . . . . . . . . : 255.255.0.0
   默认网关. . . . . . . . . . . . . :

以太网适配器 VMware Network Adapter VMnet8:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::115b:4c34:ea87:bb1e%20
   自动配置 IPv4 地址  . . . . . . . : 169.254.85.155
   子网掩码  . . . . . . . . . . . . : 255.255.0.0
   默认网关. . . . . . . . . . . . . :

无线局域网适配器 WLAN:

   连接特定的 DNS 后缀 . . . . . . . :
   IPv6 地址 . . . . . . . . . . . . : 240e:47f:32d8:ea5b:c89b:90c6:eda1:1f43
   临时 IPv6 地址. . . . . . . . . . : 240e:47f:32d8:ea5b:1b6:57b7:ca7f:b628
   本地链接 IPv6 地址. . . . . . . . : fe80::9fab:7cb:2e34:253e%19
   IPv4 地址 . . . . . . . . . . . . : 192.168.246.76
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . : fe80::5c0c:2bff:fe2b:9d9f%19
                                       192.168.246.222

以太网适配器 蓝牙网络连接:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :
```

